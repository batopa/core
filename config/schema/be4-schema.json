{
    "annotations": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "object_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to annotated object",
                "precision": null,
                "autoIncrement": null
            },
            "description": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "annotation author",
                "precision": null
            },
            "user_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "user creating this annotation",
                "precision": null,
                "autoIncrement": null
            },
            "created": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "creation date",
                "precision": null
            },
            "modified": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "last modification date",
                "precision": null
            },
            "params": {
                "type": "text",
                "length": 16777215,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "annotation parameters (serialized JSON)",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "annotations_userid_fk": {
                "type": "foreign",
                "columns": [
                    "user_id"
                ],
                "references": [
                    "users",
                    "id"
                ],
                "update": "restrict",
                "delete": "restrict",
                "length": [

                ]
            },
            "annotations_objectid_fk": {
                "type": "foreign",
                "columns": [
                    "object_id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "annotations_userid_fk": {
                "type": "index",
                "columns": [
                    "user_id"
                ],
                "length": [

                ]
            },
            "annotations_objectid_fk": {
                "type": "index",
                "columns": [
                    "object_id"
                ],
                "length": [

                ]
            }
        }
    },
    "applications": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "api_key": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "api key value for application",
                "precision": null,
                "fixed": null
            },
            "name": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "application name",
                "precision": null,
                "fixed": null
            },
            "description": {
                "type": "text",
                "length": null,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "application description",
                "precision": null
            },
            "created": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "creation date",
                "precision": null
            },
            "modified": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "last modification date",
                "precision": null
            },
            "enabled": {
                "type": "boolean",
                "length": null,
                "null": false,
                "default": "1",
                "comment": "application active flag",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": []
            },
            "applications_apikey_uq": {
                "type": "unique",
                "columns": [
                    "api_key"
                ],
                "length": []
            },
            "applications_name_uq": {
                "type": "unique",
                "columns": [
                    "name"
                ],
                "length": []
            }
        }
    },
    "auth_providers": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "name": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "external provider name: facebook, google, github...",
                "precision": null,
                "fixed": null
            },
            "url": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "external provider url",
                "precision": null,
                "fixed": null
            },
            "params": {
                "type": "text",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "external provider parameters",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "authproviders_name_uq": {
                "type": "unique",
                "columns": [
                    "name"
                ],
                "length": [

                ]
            }
        }
    },
    "config": {
        "columns": {
            "name": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "configuration key",
                "precision": null,
                "fixed": null
            },
            "context": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "group name of configuration parameters",
                "precision": null,
                "fixed": null
            },
            "content": {
                "type": "text",
                "length": null,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "configuration data as string or JSON",
                "precision": null
            },
            "created": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "creation date",
                "precision": null
            },
            "modified": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "last modification date",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "name"
                ],
                "length": [

                ]
            }
        },
        "indexes": {
            "config_context_idx": {
                "type": "index",
                "columns": [
                    "context"
                ],
                "length": [

                ]
            }
        }
    },
    "endpoint_permissions": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "endpoint_id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to endpoints.id",
                "precision": null,
                "autoIncrement": null
            },
            "application_id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": true,
                "default": null,
                "comment": "link to applications.id - may be null",
                "precision": null,
                "autoIncrement": null
            },
            "role_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": true,
                "default": null,
                "comment": "link to roles.id - may be null",
                "precision": null,
                "autoIncrement": null
            },
            "permission": {
                "type": "integer",
                "length": 11,
                "unsigned": false,
                "null": false,
                "default": "0",
                "comment": "endpoint permission for role and app",
                "precision": null,
                "autoIncrement": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": []
            },
            "applications_endapprole_uq": {
                "type": "unique",
                "columns": [
                    "endpoint_id",
                    "application_id",
                    "role_id"
                ],
                "length": []
            },
            "endpointspermissions_applicationid_fk": {
                "type": "foreign",
                "columns": [
                    "application_id"
                ],
                "references": [
                    "applications",
                    "id"
                ],
                "update": "restrict",
                "delete": "restrict",
                "length": []
            },
            "endpointspermissions_endpointid_fk": {
                "type": "foreign",
                "columns": [
                    "endpoint_id"
                ],
                "references": [
                    "endpoints",
                    "id"
                ],
                "update": "restrict",
                "delete": "restrict",
                "length": []
            },
            "endpointspermissions_roleid_fk": {
                "type": "foreign",
                "columns": [
                    "role_id"
                ],
                "references": [
                    "roles",
                    "id"
                ],
                "update": "restrict",
                "delete": "restrict",
                "length": []
            }
        },
        "indexes": {
            "endpointspermissions_applicationid_fk": {
                "type": "index",
                "columns": [
                    "application_id"
                ],
                "length": []
            },
            "endpointspermissions_roleid_fk": {
                "type": "index",
                "columns": [
                    "role_id"
                ],
                "length": []
            }
        }
    },
    "endpoints": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "name": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "endpoint name without slash, will be used as \/name",
                "precision": null,
                "fixed": null
            },
            "description": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "endpoint description",
                "precision": null
            },
            "created": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "creation date",
                "precision": null
            },
            "modified": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "last modification date",
                "precision": null
            },
            "enabled": {
                "type": "boolean",
                "length": null,
                "null": false,
                "default": "1",
                "comment": "endpoint active flag",
                "precision": null
            },
            "object_type_id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": true,
                "default": null,
                "comment": "link to object_types.id in case of an object type endpoint",
                "precision": null,
                "autoIncrement": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": []
            },
            "endpoints_name_uq": {
                "type": "unique",
                "columns": [
                    "name"
                ],
                "length": []
            },
            "endpoins_objecttypeid_fk": {
                "type": "foreign",
                "columns": [
                    "object_type_id"
                ],
                "references": [
                    "object_types",
                    "id"
                ],
                "update": "restrict",
                "delete": "restrict",
                "length": []
            }
        },
        "indexes": {
            "endpoins_objecttypeid_fk": {
                "type": "index",
                "columns": [
                    "object_type_id"
                ],
                "length": []
            }
        }
    },
    "external_auth": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "user_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "reference to system user",
                "precision": null,
                "autoIncrement": null
            },
            "auth_provider_id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to external auth provider",
                "precision": null,
                "autoIncrement": null
            },
            "params": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "external auth params, serialized JSON",
                "precision": null
            },
            "provider_username": {
                "type": "string",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "auth username on provider",
                "precision": null,
                "fixed": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "externalauth_authuser_uq": {
                "type": "unique",
                "columns": [
                    "auth_provider_id",
                    "provider_username"
                ],
                "length": [

                ]
            },
            "externalauth_authprovider_fk": {
                "type": "foreign",
                "columns": [
                    "auth_provider_id"
                ],
                "references": [
                    "auth_providers",
                    "id"
                ],
                "update": "restrict",
                "delete": "restrict",
                "length": [

                ]
            },
            "externalauth_userid_fk": {
                "type": "foreign",
                "columns": [
                    "user_id"
                ],
                "references": [
                    "users",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "externalauth_userid_fk": {
                "type": "index",
                "columns": [
                    "user_id"
                ],
                "length": [

                ]
            }
        }
    },
    "media": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "precision": null,
                "autoIncrement": null
            },
            "uri": {
                "type": "text",
                "length": null,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "media uri: relative path on local filesystem or remote URL",
                "precision": null
            },
            "name": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "file name",
                "precision": null
            },
            "mime_type": {
                "type": "text",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "resource mime type",
                "precision": null
            },
            "file_size": {
                "type": "integer",
                "length": 11,
                "unsigned": true,
                "null": true,
                "default": null,
                "comment": "file size in bytes (if local)",
                "precision": null,
                "autoIncrement": null
            },
            "hash_file": {
                "type": "string",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "md5 hash of local file",
                "precision": null,
                "fixed": null
            },
            "original_name": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "original name for uploaded file",
                "precision": null
            },
            "width": {
                "type": "integer",
                "length": 6,
                "unsigned": true,
                "null": true,
                "default": null,
                "comment": "(image) width",
                "precision": null,
                "autoIncrement": null
            },
            "height": {
                "type": "integer",
                "length": 6,
                "unsigned": true,
                "null": true,
                "default": null,
                "comment": "(image) height",
                "precision": null,
                "autoIncrement": null
            },
            "provider": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "external provider\/service name",
                "precision": null
            },
            "media_uid": {
                "type": "string",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "uid, used for remote videos",
                "precision": null,
                "fixed": null
            },
            "thumbnail": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "remote media thumbnail URL",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "media_id_fk": {
                "type": "foreign",
                "columns": [
                    "id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "media_hashfile_idx": {
                "type": "index",
                "columns": [
                    "hash_file"
                ],
                "length": [

                ]
            }
        }
    },
    "object_permissions": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "object_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "object - link to objects.id",
                "precision": null,
                "autoIncrement": null
            },
            "role_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "role - link to roles.id",
                "precision": null,
                "autoIncrement": null
            },
            "params": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "permission parameters (JSON data)",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "objectpermissions_objectrole_uq": {
                "type": "unique",
                "columns": [
                    "object_id",
                    "role_id"
                ],
                "length": [

                ]
            },
            "objectpermissions_objectid_fk": {
                "type": "foreign",
                "columns": [
                    "object_id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "objectpermissions_roleid_fk": {
                "type": "foreign",
                "columns": [
                    "role_id"
                ],
                "references": [
                    "roles",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "objectpermissions_roleid_fk": {
                "type": "index",
                "columns": [
                    "role_id"
                ],
                "length": [

                ]
            }
        }
    },
    "object_properties": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "property_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to properties.id",
                "precision": null,
                "autoIncrement": null
            },
            "object_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to objects.id",
                "precision": null,
                "autoIncrement": null
            },
            "property_value": {
                "type": "text",
                "length": null,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "property value of linked object",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "objectproperties_objectid_fk": {
                "type": "foreign",
                "columns": [
                    "object_id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "objectproperties_propertyid_fk": {
                "type": "foreign",
                "columns": [
                    "property_id"
                ],
                "references": [
                    "properties",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "objectproperties_objectid_fk": {
                "type": "index",
                "columns": [
                    "object_id"
                ],
                "length": [

                ]
            },
            "objectproperties_propertyid_fk": {
                "type": "index",
                "columns": [
                    "property_id"
                ],
                "length": [

                ]
            }
        }
    },
    "object_relations": {
        "columns": {
            "left_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "left part of the relation object id",
                "precision": null,
                "autoIncrement": null
            },
            "relation_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to relation definition",
                "precision": null,
                "autoIncrement": null
            },
            "right_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "right part of the relation object id",
                "precision": null,
                "autoIncrement": null
            },
            "priority": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "priority order in relation",
                "precision": null,
                "autoIncrement": null
            },
            "inv_priority": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "priority order in inverse relation",
                "precision": null,
                "autoIncrement": null
            },
            "params": {
                "type": "text",
                "length": 16777215,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "relation parameters (JSON format)",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "left_id",
                    "relation_id",
                    "right_id"
                ],
                "length": [

                ]
            },
            "objectrelations_leftid_fk": {
                "type": "foreign",
                "columns": [
                    "left_id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "objectrelations_rightid_fk": {
                "type": "foreign",
                "columns": [
                    "right_id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "objectrelations_relationid_fk": {
                "type": "foreign",
                "columns": [
                    "relation_id"
                ],
                "references": [
                    "relations",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "objectrelations_leftid_idx": {
                "type": "index",
                "columns": [
                    "left_id"
                ],
                "length": [

                ]
            },
            "objectrelations_rightid_idx": {
                "type": "index",
                "columns": [
                    "right_id"
                ],
                "length": [

                ]
            },
            "objectrelations_relationid_fk": {
                "type": "index",
                "columns": [
                    "relation_id"
                ],
                "length": [

                ]
            }
        }
    },
    "object_types": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "name": {
                "type": "string",
                "length": 50,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "object type name",
                "precision": null,
                "fixed": null
            },
            "pluralized": {
                "type": "string",
                "length": 50,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "pluralized object type name",
                "precision": null,
                "fixed": null
            },
            "description": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "object type description",
                "precision": null
            },
            "plugin": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "CakePHP plugin name",
                "precision": null,
                "fixed": null
            },
            "model": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "CakePHP Table class name",
                "precision": null,
                "fixed": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "objecttypes_name_uq": {
                "type": "unique",
                "columns": [
                    "name"
                ],
                "length": []
            },
            "objecttypes_plural_uq": {
                "type": "unique",
                "columns": [
                    "pluralized"
                ],
                "length": [

                ]
            }
        },
        "indexes": {
            "objecttypes_model_idx": {
                "type": "index",
                "columns": [
                    "plugin",
                    "model"
                ],
                "length": [

                ]
            }
        }
    },
    "objects": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "object_type_id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "object type id",
                "precision": null,
                "autoIncrement": null
            },
            "status": {
                "type": "text",
                "length": null,
                "null": false,
                "default": "draft",
                "collate": "utf8_general_ci",
                "comment": "object status: on, draft, off, deleted",
                "precision": null
            },
            "uname": {
                "type": "string",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "unique and url friendly resource name (slug)",
                "precision": null,
                "fixed": null
            },
            "locked": {
                "type": "boolean",
                "length": null,
                "null": false,
                "default": "0",
                "comment": "locked flag: some fields (status, uname,...) cannot be changed",
                "precision": null
            },
            "created": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "creation date",
                "precision": null
            },
            "modified": {
                "type": "datetime",
                "length": null,
                "null": false,
                "default": null,
                "comment": "last modification date",
                "precision": null
            },
            "published": {
                "type": "datetime",
                "length": null,
                "null": true,
                "default": null,
                "comment": "publication date, status set to ON",
                "precision": null
            },
            "title": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "",
                "precision": null
            },
            "description": {
                "type": "text",
                "length": 16777215,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "",
                "precision": null
            },
            "body": {
                "type": "text",
                "length": 16777215,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "",
                "precision": null
            },
            "extra": {
                "type": "text",
                "length": 16777215,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "object data extensions (JSON format)",
                "precision": null
            },
            "lang": {
                "type": "string",
                "fixed": true,
                "length": 3,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "language used, ISO 639-3 code",
                "precision": null
            },
            "created_by": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "user who created object",
                "precision": null,
                "autoIncrement": null
            },
            "modified_by": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "last user to modify object",
                "precision": null,
                "autoIncrement": null
            },
            "publish_start": {
                "type": "datetime",
                "length": null,
                "null": true,
                "default": null,
                "comment": "publish from this date on",
                "precision": null
            },
            "publish_end": {
                "type": "datetime",
                "length": null,
                "null": true,
                "default": null,
                "comment": "publish until this date",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "objects_uname_uq": {
                "type": "unique",
                "columns": [
                    "uname"
                ],
                "length": [

                ]
            },
            "objects_modifiedby_fk": {
                "type": "foreign",
                "columns": [
                    "modified_by"
                ],
                "references": [
                    "users",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "objects_createdby_fk": {
                "type": "foreign",
                "columns": [
                    "created_by"
                ],
                "references": [
                    "users",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "objects_objtype_fk": {
                "type": "foreign",
                "columns": [
                    "object_type_id"
                ],
                "references": [
                    "object_types",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "objects_objtype_idx": {
                "type": "index",
                "columns": [
                    "object_type_id"
                ],
                "length": [

                ]
            },
            "objects_createdby_fk": {
                "type": "index",
                "columns": [
                    "created_by"
                ],
                "length": [

                ]
            },
            "objects_modifiedby_fk": {
                "type": "index",
                "columns": [
                    "modified_by"
                ],
                "length": [

                ]
            }
        }
    },
    "profiles": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "precision": null,
                "autoIncrement": null
            },
            "name": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "person name, can be NULL",
                "precision": null
            },
            "surname": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "person surname, can be NULL",
                "precision": null
            },
            "email": {
                "type": "string",
                "length": 100,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "first email, can be NULL",
                "precision": null,
                "fixed": null
            },
            "person_title": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "person title, for example Sir, Madame, Prof, Doct, ecc., can be NULL",
                "precision": null
            },
            "gender": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "gender, for example male, female, can be NULL",
                "precision": null
            },
            "birthdate": {
                "type": "date",
                "length": null,
                "null": true,
                "default": null,
                "comment": "date of birth, can be NULL",
                "precision": null
            },
            "deathdate": {
                "type": "date",
                "length": null,
                "null": true,
                "default": null,
                "comment": "date of death, can be NULL",
                "precision": null
            },
            "company": {
                "type": "boolean",
                "length": null,
                "null": false,
                "default": "0",
                "comment": "is a company, default: false",
                "precision": null
            },
            "company_name": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "name of company, can be NULL",
                "precision": null
            },
            "company_kind": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "type of company, can be NULL",
                "precision": null
            },
            "street_address": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "address street, can be NULL",
                "precision": null
            },
            "city": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "city, can be NULL",
                "precision": null
            },
            "zipcode": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "zipcode, can be NULL",
                "precision": null
            },
            "country": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "country, can be NULL",
                "precision": null
            },
            "state_name": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "state, can be NULL",
                "precision": null
            },
            "phone": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "first phone number, can be NULL",
                "precision": null
            },
            "website": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "website url, can be NULL",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "profiles_email_uq": {
                "type": "unique",
                "columns": [
                    "email"
                ],
                "length": [

                ]
            },
            "profiles_id_fk": {
                "type": "foreign",
                "columns": [
                    "id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        }
    },
    "properties": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "name": {
                "type": "string",
                "length": 100,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "property name",
                "precision": null,
                "fixed": null
            },
            "object_type_id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": true,
                "default": null,
                "comment": "link to object_types.id",
                "precision": null,
                "autoIncrement": null
            },
            "property_type_id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to property_type.id",
                "precision": null,
                "autoIncrement": null
            },
            "multiple": {
                "type": "boolean",
                "length": null,
                "null": true,
                "default": "0",
                "comment": "multiple values for this property?",
                "precision": null
            },
            "options_list": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "property predefined options list",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "properties_nametype_uq": {
                "type": "unique",
                "columns": [
                    "name",
                    "object_type_id"
                ],
                "length": [

                ]
            },
            "properties_objtype_fk": {
                "type": "foreign",
                "columns": [
                    "object_type_id"
                ],
                "references": [
                    "object_types",
                    "id"
                ],
                "update": "restrict",
                "delete": "restrict",
                "length": [

                ]
            },
            "properties_proptype_fk": {
                "type": "foreign",
                "columns": [
                    "property_type_id"
                ],
                "references": [
                    "property_types",
                    "id"
                ],
                "update": "restrict",
                "delete": "restrict",
                "length": [

                ]
            }
        },
        "indexes": {
            "properties_name_idx": {
                "type": "index",
                "columns": [
                    "name"
                ],
                "length": [

                ]
            },
            "properties_objtype_idx": {
                "type": "index",
                "columns": [
                    "object_type_id"
                ],
                "length": [

                ]
            },
            "properties_proptype_idx": {
                "type": "index",
                "columns": [
                    "property_type_id"
                ],
                "length": [

                ]
            }
        }
    },
    "property_types": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "name": {
                "type": "string",
                "length": 50,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "property type name",
                "precision": null,
                "fixed": null
            },
            "params": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "property type parameters",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "propertytypes_name_uq": {
                "type": "unique",
                "columns": [
                    "name"
                ],
                "length": [

                ]
            }
        }
    },
    "relation_types": {
        "columns": {
            "relation_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to relation definition",
                "precision": null,
                "autoIncrement": null
            },
            "object_type_id": {
                "type": "integer",
                "length": 5,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "object type id",
                "precision": null,
                "autoIncrement": null
            },
            "side": {
                "type": "text",
                "length": null,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "type position in relation, left or right",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "relation_id",
                    "object_type_id",
                    "side"
                ],
                "length": [

                ]
            },
            "relationtypes_relationid_fk": {
                "type": "foreign",
                "columns": [
                    "relation_id"
                ],
                "references": [
                    "relations",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "relationtypes_objtypeid_fk": {
                "type": "foreign",
                "columns": [
                    "object_type_id"
                ],
                "references": [
                    "object_types",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "relationtypes_objtypeid_fk": {
                "type": "index",
                "columns": [
                    "object_type_id"
                ],
                "length": [

                ]
            }
        }
    },
    "relations": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "name": {
                "type": "string",
                "length": 100,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "relation name",
                "precision": null,
                "fixed": null
            },
            "label": {
                "type": "text",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "relation label",
                "precision": null
            },
            "inverse_name": {
                "type": "string",
                "length": 100,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "inverse relation name",
                "precision": null,
                "fixed": null
            },
            "inverse_label": {
                "type": "text",
                "length": 255,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "inverse relation label",
                "precision": null
            },
            "description": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "relation description",
                "precision": null
            },
            "params": {
                "type": "text",
                "length": 16777215,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "relation parameters definitions (JSON format)",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "relations_name_uq": {
                "type": "unique",
                "columns": [
                    "name"
                ],
                "length": [

                ]
            },
            "relations_inversename_uq": {
                "type": "unique",
                "columns": [
                    "inverse_name"
                ],
                "length": [

                ]
            }
        }
    },
    "roles": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "name": {
                "type": "string",
                "length": 32,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "role unique name",
                "precision": null,
                "fixed": null
            },
            "description": {
                "type": "text",
                "length": null,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "role description",
                "precision": null
            },
            "unchangeable": {
                "type": "boolean",
                "length": null,
                "null": false,
                "default": "0",
                "comment": "role data not modifiable (default:false)",
                "precision": null
            },
            "created": {
                "type": "datetime",
                "length": null,
                "null": true,
                "default": null,
                "comment": "creation date",
                "precision": null
            },
            "modified": {
                "type": "datetime",
                "length": null,
                "null": true,
                "default": null,
                "comment": "last modification date",
                "precision": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "roles_name_uq": {
                "type": "unique",
                "columns": [
                    "name"
                ],
                "length": [

                ]
            }
        }
    },
    "roles_users": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "role_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to roles.id",
                "precision": null,
                "autoIncrement": null
            },
            "user_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "link to users.id",
                "precision": null,
                "autoIncrement": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "rolesusers_userid_fk": {
                "type": "foreign",
                "columns": [
                    "user_id"
                ],
                "references": [
                    "users",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "rolesusers_roleid_fk": {
                "type": "foreign",
                "columns": [
                    "role_id"
                ],
                "references": [
                    "roles",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "rolesusers_userid_idx": {
                "type": "index",
                "columns": [
                    "user_id"
                ],
                "length": [

                ]
            },
            "rolesusers_roleid_idx": {
                "type": "index",
                "columns": [
                    "role_id"
                ],
                "length": [

                ]
            }
        }
    },
    "trees": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "autoIncrement": true,
                "precision": null
            },
            "object_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "object id",
                "precision": null,
                "autoIncrement": null
            },
            "parent_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": true,
                "default": null,
                "comment": "parent object id",
                "precision": null,
                "autoIncrement": null
            },
            "root_id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "root id (for tree scoping)",
                "precision": null,
                "autoIncrement": null
            },
            "tree_left": {
                "type": "integer",
                "length": 11,
                "unsigned": false,
                "null": false,
                "default": null,
                "comment": "left counter (for nested set model)",
                "precision": null,
                "autoIncrement": null
            },
            "tree_right": {
                "type": "integer",
                "length": 11,
                "unsigned": false,
                "null": false,
                "default": null,
                "comment": "right counter (for nested set model)",
                "precision": null,
                "autoIncrement": null
            },
            "depth_level": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "tree depth level",
                "precision": null,
                "autoIncrement": null
            },
            "menu": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": "1",
                "comment": "menu on\/off",
                "precision": null,
                "autoIncrement": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "trees_objectparent_uq": {
                "type": "unique",
                "columns": [
                    "object_id",
                    "parent_id"
                ],
                "length": [

                ]
            },
            "trees_objectid_fk": {
                "type": "foreign",
                "columns": [
                    "object_id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "trees_parentid_fk": {
                "type": "foreign",
                "columns": [
                    "parent_id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            },
            "trees_rootid_fk": {
                "type": "foreign",
                "columns": [
                    "root_id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        },
        "indexes": {
            "trees_rootleft_idx": {
                "type": "index",
                "columns": [
                    "root_id",
                    "tree_left"
                ],
                "length": [

                ]
            },
            "trees_rootright_idx": {
                "type": "index",
                "columns": [
                    "root_id",
                    "tree_right"
                ],
                "length": [

                ]
            },
            "trees_menu_idx": {
                "type": "index",
                "columns": [
                    "menu"
                ],
                "length": [

                ]
            },
            "trees_parentid_fk": {
                "type": "index",
                "columns": [
                    "parent_id"
                ],
                "length": [

                ]
            }
        }
    },
    "users": {
        "columns": {
            "id": {
                "type": "integer",
                "length": 10,
                "unsigned": true,
                "null": false,
                "default": null,
                "comment": "",
                "precision": null,
                "autoIncrement": null
            },
            "username": {
                "type": "string",
                "length": 100,
                "null": false,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "login user name",
                "precision": null,
                "fixed": null
            },
            "password_hash": {
                "type": "text",
                "length": 255,
                "null": true,
                "default": null,
                "collate": "utf8_general_ci",
                "comment": "login password hash, if empty external auth is used",
                "precision": null
            },
            "blocked": {
                "type": "boolean",
                "length": null,
                "null": false,
                "default": "0",
                "comment": "user blocked flag",
                "precision": null
            },
            "last_login": {
                "type": "datetime",
                "length": null,
                "null": true,
                "default": null,
                "comment": "last succcessful login datetime",
                "precision": null
            },
            "last_login_err": {
                "type": "datetime",
                "length": null,
                "null": true,
                "default": null,
                "comment": "last login filaure datetime",
                "precision": null
            },
            "num_login_err": {
                "type": "integer",
                "length": 4,
                "unsigned": false,
                "null": false,
                "default": "0",
                "comment": "number of consecutive login failures",
                "precision": null,
                "autoIncrement": null
            }
        },
        "constraints": {
            "primary": {
                "type": "primary",
                "columns": [
                    "id"
                ],
                "length": [

                ]
            },
            "users_username_uq": {
                "type": "unique",
                "columns": [
                    "username"
                ],
                "length": [

                ]
            },
            "users_id_fk": {
                "type": "foreign",
                "columns": [
                    "id"
                ],
                "references": [
                    "objects",
                    "id"
                ],
                "update": "noAction",
                "delete": "cascade",
                "length": [

                ]
            }
        }
    }
}